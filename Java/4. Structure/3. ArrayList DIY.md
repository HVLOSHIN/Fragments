---
tags:
  - fragment
  - java
  - â˜…â˜…
level:
---
# ArrayList êµ¬í˜„
### 1ë‹¨ê³„: ê¸°ë³¸ ArrayList êµ¬í˜„
```java
public class MyArrayListV1 {  
    public static final int DEFAULT_CAPACITY = 5;  
  
    private Object[] elementData;  
    private int size = 0;  

	// Default ë°°ì—´ í¬ê¸°
    public MyArrayListV1() {  
        elementData = new Object[DEFAULT_CAPACITY];  
    }  
    // ë°°ì—´ í¬ê¸° ì»¤ìŠ¤í…€ ê°€ëŠ¥
    public MyArrayListV1(int initialCapacity) {  
        elementData = new Object[initialCapacity];  
    }
    public int size(){  
        return size;  
    }  
    // add
    public void add(Object e){  
        elementData[size] = e;  
        size++;  
    }  
    // ì¡°íšŒ
    public Object get(int index){  
        return elementData[index];  
    }  
    // ìˆ˜ì •
    public Object set(int index, Object element){  
        Object oldValue = get(index);  
        elementData[index] = element;  
        return oldValue;  
    }
    // index ì¡°íšŒ    
    public int indexOf(Object o){  
        for (int i = 0; i < size; i++) {  
            if(o.equals(elementData[i])){  
                return i;  
            }        
        }        
    return -1;  
    }  
    public String toString(){  
        return Arrays.toString(Arrays.copyOf(elementData, size)) +  
                ", size = " + size + ", capacity = " + elementData.length;  
    }
}
```

**ì£¼ìš” ê¸°ëŠ¥**
- `add(Object e)`: ìš”ì†Œ ì¶”ê°€
- `get(int index)`: ìš”ì†Œ ì¡°íšŒ
- `set(int index, Object element)`: ìš”ì†Œ ìˆ˜ì •
- `indexOf(Object o)`: ìš”ì†Œ ì¸ë±ìŠ¤ ë°˜í™˜

**ë¬¸ì œì **
- ë°°ì—´ì˜ í¬ê¸°ê°€ ê³ ì •ë˜ì–´ ì´ˆê³¼í•˜ë©´ ì˜¤ë¥˜ ë°œìƒ

> [!note] Size vs Capacity
> ë‘˜ ë‹¤ í¬ê¸°ë¥¼ ë‚˜íƒ€ë‚´ì§€ë§Œ ì˜ë¯¸í•˜ëŠ” ë°”ê°€ ë‹¤ë¥´ë‹¤.
> - size : ë¦¬ìŠ¤íŠ¸ì˜ í¬ê¸° (ì‹¤ì œë¡œ ì…ë ¥ëœ ë°ì´í„°ê°€ ìˆëŠ” í¬ê¸°)
> - capacity : ë°°ì—´ì˜ í¬ê¸°
> `[1, 2, 3, null, null]` / size = 3 / capacity = 5

### 2ë‹¨ê³„: ë™ì  ë°°ì—´ ë„ì…
```java
 public void add(Object e){  
        // ì½”ë“œ ì¶”ê°€  
        if(size == elementData.length){  
            grow();  
        }        elementData[size] = e;  
        size++;  
    }  
    private void grow() {
        elementData = Arrays.copyOf(elementData, elementData.length * 2);  
    }
```
**grow() ë©”ì„œë“œ:**Â ë°°ì—´ì´ ê°€ë“ ì°¨ë©´Â `Arrays.copyOf`ë¥¼ í†µí•´ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë‘ ë°°ë¡œ í™•ì¥
`Arrays.copyOf(ê¸°ì¡´ë°°ì—´, ìƒˆë¡œìš´ ê¸¸ì´)` : ìƒˆë¡œìš´ ê¸¸ì´ë¡œ ë°°ì—´ì„ ìƒì„±í•˜ê³ , ê¸°ì¡´ ë°°ì—´ì˜ ê°’ì„ ìƒˆë¡œìš´ ë°°ì—´ì— ë³µì‚¬í•œë‹¤.
ë˜í•œ ìƒˆë¡­ê²Œ ìƒì„±ëœ Listë¡œ ì°¸ì¡°ê°’ì„ ê°ˆì•„íƒ„ë‹¤. ê¸°ì¡´ ë°°ì—´ì€ ë” ì´ìƒ ì°¸ì¡°í•˜ëŠ” ê³³ì´ ì—†ìœ¼ë¯€ë¡œ [[2. Referance#^23bd4f|GC]]ì˜ ëŒ€ìƒì´ ëœë‹¤. 

**ì¥ë‹¨ì **
- **ì¥ì :**Â ë°°ì—´ì´ ìë™ìœ¼ë¡œ í™•ì¥ë˜ì–´ ìœ ì—°í•œ ì €ì¥ ê°€ëŠ¥
- **ë‹¨ì :**Â ë°°ì—´ ë³µì‚¬ ì—°ì‚°ì´ ë¹ˆë²ˆí•˜ë©´ ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥
```java
public class MyArrayListV2Main {  
    public static void main(String[] args) {  
        MyArrayListV2 list = new MyArrayListV2();  
        list.add("a");  
        list.add("b");  
        list.add("c");  
        list.add("d");  
        list.add("e"); 
        System.out.println(list); 
        list.add("f");  
        System.out.println(list);  
    }
}
```

```
[a, b, c, d, e], size = 5, capacity = 5
[a, b, c, d, e, f], size = 6, capacity = 10
```
capacityê°€ 2ë°°ë¡œ ëŠ˜ì–´ë‚˜ë©´ì„œ ìµœëŒ€ ìˆ˜ìš©ëŸ‰ì„ ëŠ˜ë ¸ë‹¤.
~~ë‹¤ì‹œ ì¤„ì´ëŠ”ê±´ ê³ ë ¤ë¥¼ í•˜ì§€ì•Šì€ê±´ê°€?~~

> [!note] ë°°ì—´ì˜ í¬ê¸°ë¥¼ 1ì”© ì¦ê°€ì‹œí‚¤ë©´?
> ë°°ì—´ì„ ë³µì‚¬í•˜ëŠ” ì—°ì‚°ì´ ë„ˆë¬´ ìì£¼ ë°œìƒí•œë‹¤.
> í•­ìƒ ë°ì´í„°ê°€ 1ì–µê°œì¯¤ ìˆë‹¤ê³  ê°€ì •í•˜ê³  ìƒê°í•´ë³´ì
> ë³µì‚¬í•˜ëŠ” ì—°ì‚°ì´ ìì£¼ ì¼ì–´ë‚˜ì§€ ì•Šê²Œ í•˜ëŠ”ê²ƒë„ ì¢‹ì€ ìµœì í™” ë°©ë²•ì´ë‹¤.
> ë°˜ëŒ€ë¡œ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë„ˆë¬´ í¬ê²Œ ì¦ê°€ì‹œí‚¤ë©´ ë‚­ë¹„ë˜ëŠ” ë©”ëª¨ë¦¬ê°€ ë§ì•„ì§€ëŠ” ë‹¨ì  ë˜í•œ ì¡´ì¬í•œë‹¤.

### 3ë‹¨ê³„: ê¸°ëŠ¥ ê°œì„ 
`add(index, data)` ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ íŠ¹ì • ìœ„ì¹˜ì— ë°ì´í„°ë¥¼ ì¶”ê°€ì‹œì¼œë³´ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•´ ë³´ì
`remove(index)` ë¥¼ í†µí•˜ì—¬ í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ê°’ì„ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ë„ ì¶”ê°€í•´ ë³¼ ê²ƒì´ë‹¤.

```java
    // ì½”ë“œ ì¶”ê°€
    public void add(int index, Object e){  
        if(size == elementData.length){  
            grow();  
        }  
        // ë°ì´í„° ì´ë™
        shiftRightFrom(index);  
        elementData[index] = e;  
        size++;  
    }  
    // ì½”ë“œ ì¶”ê°€
    private void shiftRightFrom(int index) {  
        for(int i = size; i > index; i--){  
            elementData[i] = elementData[i - 1];  
        }    
    }  
    // ì½”ë“œ ì¶”ê°€
    public Object remove(int index){  
        Object oldValue = get(index);  
        shiftLeftFrom(index);  
        size--;  
        elementData[size] = null;  
        return oldValue;  
    }  
    // ì½”ë“œ ì¶”ê°€
    private void shiftLeftFrom(int index) {  
        for(int i = index; i < size - 1; i++){  
            elementData[i] = elementData[i + 1];  
        }    
    }  
ë‚˜ë¨¸ì§€ ë™ì¼
```
ë°ì´í„°ì˜ ìë¦¬ë¥¼ ë°€ì–´ì£¼ëŠ” ê²ƒë§Œ ì œì™¸í•˜ë©´ í¬ê²Œ ì–´ë ¤ìš´ ê²ƒì€ ì—†ë‹¤.


```java
list.add("a");  
list.add("b");  
list.add("c");  
System.out.println(list);  
  
list.add(0, "z");  
System.out.println(list);  
list.add(1, "x");  
System.out.println(list);
```

```
[a, b, c], size = 3, capacity = 5
[z, a, b, c], size = 4, capacity = 5
[z, x, a, b, c], size = 5, capacity = 5
```
ì¤‘ìš”í•œ ê²ƒì€ ë°€ì–´ì£¼ëŠ” ê³¼ì •ì´ íš¨ìœ¨ì´ ì¢€ ì•ˆì¢‹ë‹¤ëŠ” ì‚¬ì‹¤... `O(n)`
ë§ˆì§€ë§‰ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ë•ŒëŠ” `O(1)` ì´ì§€ë§Œ, ì•ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ë•ŒëŠ” `O(n)`
ë”°ë¼ì„œ ArrayListëŠ” ë°ì´í„°ë¥¼ ìˆœì„œëŒ€ë¡œ ì…ë ¥í•˜ê³ , ìˆœì„œëŒ€ë¡œ ì¶œë ¥í•˜ëŠ” ê²½ìš°ì— ê°€ì¥ íš¨ìœ¨ì ì´ë‹¤.

### 4ë‹¨ê³„: [[1. Generic|ì œë„¤ë¦­]] ë„ì…
[[1. Object Class|Object]]ë¥¼ ì§ì ‘ ì…ë ¥í•˜ë©´ ì•„ë¬´ ë°ì´í„°ë‚˜ ì…ë ¥í•  ìˆ˜ ìˆê³ , ê²°ê³¼ë¡œ `Object`ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.
ë”°ë¼ì„œ [[9. polymorphism#ë‹¤ìš´ìºìŠ¤íŒ…|ë‹¤ìš´ìºìŠ¤íŒ…]]ì´ í•„ì—°ì ì´ê³ , ë˜í•œ íƒ€ì… ì•ˆì •ì„±ì´ ë–¨ì–´ì§€ëŠ” ë‹¨ì ì´ ìƒê¸´ë‹¤.

```java title:"ì¢‹ì§€ ì•Šì€ ì˜ˆì‹œ"
public static void main(String[] args) {  
    MyArrayListV3 numberList = new MyArrayListV3();  
  
    // ìˆ«ìë§Œ ì…ë ¥í•˜ê¸°ë¥¼ ê¸°ëŒ€  
    numberList.add(1);  
    numberList.add(2);  
    numberList.add("3"); // ë¬¸ì ì…ë ¥ 
    System.out.println(numberList);  
  
    // Objectë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ë‹¤ìš´ìºìŠ¤íŒ… í•„ìš”  
    Integer num1 = (Integer) numberList.get(0);  
    Integer num2 = (Integer) numberList.get(1);  
    Integer num3 = (Integer) numberList.get(2); // ì˜¤ë¥˜ ë°œìƒ!  
}
```
`ClassCastException`ì´ ë°œìƒí•œë‹¤. 
[[1. Generic|ì œë„¤ë¦­]]ì„ ë„ì…í•˜ë©´ íƒ€ì… ì•ˆì •ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆë‹¤.
==ì œë„¤ë¦­ì€ ìë£Œë¥¼ ë³´ê´€í•˜ëŠ” ìë£Œêµ¬ì¡°ì— ê°€ì¥ ì˜ ì–´ìš¸ë¦°ë‹¤.==

```java hl:1,4,17
public class MyArrayListV4<E> {  
    public static final int DEFAULT_CAPACITY = 5;  
    // í‚¹ì©”ìˆ˜ ì—†ì´ Obejct[] ì‚¬ìš©
    private Object[] elementData;  
    private int size = 0;  
  
    public MyArrayListV4() {  
        elementData = new Object[DEFAULT_CAPACITY];  
    }  
    public MyArrayListV4(int initialCapacity) {  
	    elementData = new Object[initialCapacity];  
	}

    // ê²½ê³  ë¬´ì‹œ  
    @SuppressWarnings("unchecked")  
    public E get(int index){  
        return (E) elementData[index];  
    }  
    public E set(int index, E element){  
        E oldValue = get(index);  
        elementData[index] = element;  
        return oldValue;  
    } 
    // ê¸°íƒ€ ë“±ë“± ìƒëµ 
```
íƒ€ì…ì„ Object ì—ì„œ `<E>`ë¡œ ì œë„¤ë¦­ íƒ€ì…ì„ ì„ ì–¸í–ˆë‹¤.

```java
MyArrayListV4<Integer> numberList = new MyArrayListV4<>();  
  
// ìˆ«ìë§Œ ì…ë ¥í•˜ê¸°ë¥¼ ê¸°ëŒ€  
numberList.add(1);  
numberList.add(2);  
// numberList.add("3"); // String íƒ€ì…ì€ ë¶ˆê°€  
System.out.println(numberList);  
  
// ë‹¤ìš´ ìºìŠ¤íŒ… í•„ìš” X
Integer num1 = numberList.get(0);
```
ì²˜ìŒ ê²°ì •í•œ íƒ€ì…ìœ¼ë¡œ íƒ€ì…ì´ ê³ ì •ë˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ íƒ€ì…ì´ ë“¤ì–´ê°€ë©´ ì»´íŒŒì¼ ì˜¤ë¥˜ ë°œìƒ

###### Object ë°°ì—´ì„ ì‚¬ìš©í•œ ì´ìœ 
`Object[] elementData`ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œ ì´ìœ 
- ì œë„¤ë¦­ì€ ëŸ°íƒ€ì„ì— ì´ë ˆì´ì €ì— ì˜í•´ íƒ€ì… ì •ë³´ê°€ ì‚¬ë¼ì§„ë‹¤. 
  ë”°ë¼ì„œ ëŸ°íƒ€ì„ ì‹œì ì— íƒ€ì… ì •ë³´ê°€ í•„ìš”í•œ **ìƒì„±ìì— ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤**. ~~ì œë„¤ë¦­ì˜ í•œê³„~~
- íƒ€ì…ì´ ì •í•´ì§€ê³  ë‚˜ì„œëŠ” **ì •í•´ì§„ E íƒ€ì…ìœ¼ë¡œ ê³ ì • - ë³´ê´€**ì´ ë˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´ `E` ê°€ `String`ìœ¼ë¡œ ì •í•´ì¡Œë‹¤ë©´ `elementData`ì—ëŠ” í•­ìƒ `String`ìœ¼ë¡œ ì €ì¥ëœë‹¤.
  ë”°ë¼ì„œ 17ì¤„ì—ì„œ ë‹¤ìš´ìºìŠ¤íŒ…ì´ ì¼ì–´ë‚œë‹¤ê³  í•´ë„ ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ë‹¤. ~~Stringì„ Stringìœ¼ë¡œ ë‹¤ìš´ìºìŠ¤íŒ…~~

### ArrayListì˜ ë‹¨ì 
- **ë©”ëª¨ë¦¬ ë‚­ë¹„:**Â ë°°ì—´ì˜ ë’·ë¶€ë¶„ì— ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê³µê°„ ì¡´ì¬ ê°€ëŠ¥
- **ë°ì´í„° ì¶”ê°€/ì‚­ì œ ë¹„íš¨ìœ¨ì„±:**Â ì¤‘ê°„ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ê²½ìš°Â `O(n)`
- **ì„±ëŠ¥ í•œê³„:**Â ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ë°°ì—´ ë³µì‚¬ê°€ ë¹ˆë²ˆí•  ê²½ìš° ì„±ëŠ¥ ì €í•˜


## **í•µì‹¬ ì •ë¦¬**
- **ArrayList:**Â ìˆœì°¨ì  ë°ì´í„° ì¶”ê°€/ì¡°íšŒì— ì í•©
- **ì¤‘ê°„ ì‚½ì…/ì‚­ì œ:**Â `O(n)`ì˜ ë¹„íš¨ìœ¨ì„± ì¡´ì¬
- **ì œë„¤ë¦­ ì‚¬ìš©:**Â íƒ€ì… ì•ˆì •ì„±ì„ í™•ë³´í•˜ì—¬ ì•ˆì „í•œ ì‚¬ìš© ê°€ëŠ¥
- **ì„±ëŠ¥ ìµœì í™”:**Â ë°°ì—´ ë³µì‚¬ ì—°ì‚°ì´ ë¹ˆë²ˆí•˜ì§€ ì•Šë„ë¡ ê´€ë¦¬ í•„ìš”

**ğŸ‘‰ ìµœì ì˜ ì„ íƒ:**Â ì‚¬ìš© íŒ¨í„´ì— ë”°ë¼Â `ArrayList`ì™€Â `LinkedList`Â ì¤‘ ì ì ˆí•œ ì»¬ë ‰ì…˜ ì„ íƒ í•„ìš”!